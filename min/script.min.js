$(function(){var o=function(o){var e=encodeURI(o),t="http://api.wunderground.com/api/63dae8bbfe95a2b8/conditions/q/"+e+".json";$.ajax(t,{type:"GET",dataType:"jsonp",success:function(o){if(!o.current_observation)return $("p.error").text("Please be more specific"),$("h1").text(""),$("h2").text(""),$("h3").text(""),!1;console.log(o);var e,t,a,n=o.current_observation,s=n.wind_kph,r=n.temp_c,l=n.UV,i=n.precip_today_metric;0>r&&(0==i||"--"==i)&&(console.log("2"),e="Looks like a dry winter day.",t="a scarf, mittens, a toque and a parka.",a="Boots are optional."),-25>r&&(console.log("1"),e="Yikes! It's a cold one...",t="everything warm that you own",a="Just don't bother"),0>r&&i>0&&(console.log("3"),e="Damn, that snow is really coming down",t="Sorels and a parka!",a="Mitts, scarf and a toque. Duh."),i>0&&3>r&&r>=-2&&(console.log("4"),e="Eww, it's slushy and gross...",t="your wellies, mittens and a toque",a="an umbrella may help you out"),i>0&&r>=3&&(console.log("5"),e="It's rainy out there",t="galoshes",a="Don't forget an umbrella!"),s>40&&r>3&&18>=r&&(0==i||"--"==i)&&(console.log("6"),e="AHHH!! It's a WINDSTORM!",t=" a windbreaker and sneakers today",a="It's not actually a windstorm"),40>s&&r>3&&18>=r&&(0==i||"--"==i)&&(console.log("6.5"),e="It's moderate outside",t="sneakers and a light coat",a="Today is going to be a very good day"),r>18&&30>=r&&0==i&&40>s&&(console.log("7"),e="What a beautiful day!",t="sandals",a="But you might want pants too..."),r>30&&(console.log("8"),e="It's a beautiful day!",t="nothing",a="Public nudity is illegal"),l>2&&(console.log(l),sunscreen="Yikes! That UV index is extreme. Don't forget your sunscreen!",$(".overlay").fadeIn(200));var d=function(){$(".overlay").fadeOut()};$("body").on("click",function(o){$(o.target).hasClass("close")&&d()}),$(document).on("keydown",function(o){27==o.which&&d()}),$("h1").text(e),$("h2").text("You should wear "+t),$("h3").text("Wisdom says: "+a)}})};$("form.city").on("submit",function(e){e.preventDefault();var t=$("input[type=text]").val();o(t),$("form").addClass("result"),$("h1").addClass("show"),$("h2").addClass("show"),$("h3").addClass("show"),$("p.error").text("")})});