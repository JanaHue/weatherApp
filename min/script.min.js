$(function(){var o=function(o){var a=encodeURI(o),e="http://api.wunderground.com/api/63dae8bbfe95a2b8/conditions/q/"+a+".json";$.ajax(e,{type:"GET",dataType:"jsonp",success:function(o){if(!o.current_observation)return $("p.error").addClass("show"),$("p.error").text('Please be super specific, ie. "Toronto, Canada"'),$("h1").text(""),$("h2").text(""),$("h3").text(""),!1;console.log(o);var a,e,t,s=o.current_observation,n=s.wind_kph,r=s.temp_c,l=s.UV,i=s.precip_today_metric;0>r&&(0==i||"--"==i)&&(console.log("2"),a="Looks like a dry winter day.",e="a scarf, mittens, a toque and a parka.",t="Boots are optional."),-25>r&&(console.log("1"),a="Yikes! It's a cold one...",e="everything warm that you own",t="Just don't bother"),0>r&&i>0&&(console.log("3"),a="Damn, that snow is really coming down",e="Sorels and a parka!",t="Mitts, scarf and a toque. Duh."),i>0&&3>r&&r>=-2&&(console.log("4"),a="Eww, it's slushy and gross...",e="your wellies, mittens and a toque",t="an umbrella may help you out"),i>0&&r>=3&&(console.log("5"),a="It's rainy out there",e="galoshes",t="Don't forget an umbrella!"),n>40&&r>3&&18>=r&&(0==i||"--"==i)&&(console.log("6"),a="AHHH!! It's a WINDSTORM!",e=" a windbreaker and sneakers today",t="It's not actually a windstorm"),40>n&&r>3&&18>=r&&(0==i||"--"==i)&&(console.log("6.5"),a="It's moderate today",e="sneakers and a light coat",t="Today is going to be a very good day"),r>18&&30>=r&&0==i&&40>n&&(console.log("7"),a="What a beautiful day!",e="sandals",t="But you might want pants too..."),r>30&&(console.log("8"),a="It's a beautiful day!",e="nothing",t="Public nudity is illegal"),l>2&&(console.log(l),sunscreen="Yikes! That UV index is extreme. Don't forget your sunscreen!",$(".overlay").fadeIn(100));var d=function(){$(".overlay").fadeOut()};$("body").on("click",function(o){$(o.target).hasClass("close")&&d()}),$(document).on("keydown",function(o){27==o.which&&d()}),$("h1").text(a),$("h2").text("You should wear "+e),$("h3").text("Wisdom says: "+t)}})};$("form.city").on("submit",function(a){a.preventDefault();var e=$("input[type=text]").val();o(e),$("form").addClass("result"),$("h1").addClass("show"),$("h2").addClass("show"),$("h3").addClass("show"),$("p.error").removeClass("show")})});